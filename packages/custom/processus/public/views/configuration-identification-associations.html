<div class="container-fluid col-md-8 col-md-offset-2" data-ng-controller="AssociationsController" ng-init="init()">
	<h1>Etape 3:
		<small>Identification des associations</small>
	</h1>
	<p class="lead">Veuillez remplire les champs ci-dessous.</p>
	<form class="form-horizontal col-md-12" ng-submit="schemas()" method="post">
		<h3 data-ng-if="associations.length">Associations</h3>
		<hr>
		<div class="form-row" id="association-{{$index}}" ng-repeat="association in associations">
			<div class="well">
				<h4>
					<button class="btn btn-link" ng-click="removeAssociation(association)" tooltip="Supprimer l'association">
						<span class="glyphicon glyphicon-minus"></span>
					</button>Association {{$index + 1}}</h4>
				<div class="row">
					<div class="col-md-4 text-center">
						<strong>{{association.first.name}}</strong>
					</div>
					<div class="col-md-4 text-center">
						<p class="lead">{{association.type.label}}</p>
					</div>
					<div class="col-md-4 text-center">
						<strong>{{association.second.name}}</strong>
					</div>
					<hr>
				</div>
				<div class="row">
					<div class="col-md-4">
						<ul class="list-group text-right" id="first-table">
							<li class="list-group-item" ng-repeat="col in association.first.columns" ng-click="selectKey(col)" ng-class="{'active': col.selected}">
								<span class="glyphicon glyphicon-certificate pull-left" ng-show="col.Key == 'PRI'"></span>{{col.Field}}</li>
						</ul>
					</div>
					<div class="col-md-4 col-md-offset-4 list-group text-left" id="second-table">
						<ul>
							<li class="list-group-item" ng-repeat="col in association.second.columns" ng-click="selectKey(col)" ng-class="{'active': col.selected}">
								<span class="glyphicon glyphicon-certificate pull-right" ng-show="col.Key == 'PRI'"></span>{{col.Field}}</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-md-4">
				<label class="control-label">Table 1</label>
				<select class="form-control" ng-model="table1" ng-options="table.name for table in tables"></select>
			</div>
			<div class="col-md-3 ">
				<label class="control-label">Type</label>
				<select class="form-control" ng-model="type" ng-options="type.label for type in types"></select>
			</div>
			<div class="col-md-4 ">
				<label class="control-label">Table 2</label>
				<select class="form-control" ng-model="table2" ng-options="table.name for table in tables">
					<option>Adresse</option>
				</select>
			</div>
			<div class="col-md-1 form-group">
				<label class="control-label">&nbsp;</label>
				<a class="btn btn-default" ng-click="addAssociation()">
					<span class="glyphicon glyphicon-plus"></span>
				</a>
			</div>
		</div>
		<div class="form-group" style="padding: 50px;">
			<div class="col-md-12 text-center">
				<button class="btn btn-primary btn-lg" type="submit">Suivant
					<span class="glyphicon glyphicon-chevron-right"></span>
				</button>
			</div>
		</div>	
		{{associations}}
	</form>
</div>